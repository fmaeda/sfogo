(this["webpackJsonpsisfogo-geo"]=this["webpackJsonpsisfogo-geo"]||[]).push([[0],{112:function(n,e,t){},123:function(n,e,t){"use strict";t.r(e);var r,o=t(4),i=t(1),a=t.n(i),c=t(22),s=t.n(c),l=t(35),u=t(69),d=t(71),p=t(15),b=t(72),f=t(21),x=t(73),j=t(52),h=t(74),v=t.n(h),g=t(10),O=t(11),m=t(13),w=t(12),y=t(44),k=t(34),C=t.n(k),S=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"addProduct",value:function(n){this.draftState.products.push(n)}},{key:"removeProduct",value:function(n){this.draftState.products=this.draftState.products.filter((function(e){return e.id!==n.id}))}},{key:"setProducts",value:function(n){this.draftState.products=n}}]),t}(y.ImmerReducer),A=Object(y.createActionCreators)(S),E=Object(y.createReducerFunction)(S,{products:[]}),L={fetchProducts:function(){return function(n){return C.a.get("/ibama/api/products").then((function(e){var t=e.data;n(A.setProducts(t))}))}}},z=t(75);!function(n){n.SET_LOGIN="@@user/SET_LOGIN",n.SET_NAME="@@user/SET_NAME"}(r||(r={}));var I={login:"",name:""},M={product:E,user:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;return Object(z.a)(n,(function(n){switch(e.type){case r.SET_LOGIN:n.login=e.payload.login;break;case r.SET_NAME:n.name=e.payload.name}}))}},P=Object(j.a)({key:"ibama",storage:v.a,blacklist:["layer"]},Object(f.combineReducers)(Object(p.a)({},M))),R=[x.a],D=t(81),N={name:"default",color:{primary:"#2C68BD",secondary:"#e91e63",red:"#A6392F",green:"#0F8C3C",blue:"#1A95C0",darkBlue:"#0F4098",darkGray:"#4A4A4A",lightSilver:"#F7F7F7",darkSilver:"#A0A0A0",silver:"#ededed",error:"red",translucentWhite:"rgba(255, 255, 255, 0.5)",translucentBlack:"rgba(0, 0, 0, 0.5)"},size:{font:{normal:"11px",big:"14px"},icon:{normal:"14px",big:"16px"}}},T=D.a,_=(t(112),t(128)),F=t(27),B=t(53),U=t(54),V=t(19),W=t.n(V),K=t(31),X=t(29),G=t(43),q=t.n(G),H=t(20),J=t(36),Q=t(49),$=t(79),Y=t(127),Z=t(77),nn=t.n(Z),en=t(8);function tn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 50vh;\n"]);return tn=function(){return n},n}function rn(){var n=Object(en.a)(["\n  > div {\n    position: absolute;\n    top: unset;\n    bottom: 0;\n    height: unset;\n    filter: drop-shadow(-2px -2px 2px rgba(0, 0, 0, 0.2));\n    max-height: 60%;\n  }\n  color: rgba(0, 0, 0, 0.7);\n"]);return rn=function(){return n},n}var on=T.span(rn()),an=T.div(tn()),cn=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props,e=n.isVisible,t=n.onClose,r=n.children;return Object(o.jsx)(on,{children:Object(o.jsx)(nn.a,{isVisible:e,onClose:t,children:Object(o.jsx)(an,{children:r})})})}}]),t}(a.a.Component),sn=t(48);function ln(){var n=Object(en.a)(["\n  position: absolute;\n  font-size: 16px;\n  bottom: 2px;\n  right: 2px;\n  filter: drop-shadow(0px 2px 0px rgba(0, 0, 0, 0.5));\n"]);return ln=function(){return n},n}function un(){var n=Object(en.a)(["\n  position: absolute;\n  bottom: 4px;\n  left: 50%;\n  font-size: 28px;\n  color: orange;\n  transform: translateX(-50%);\n"]);return un=function(){return n},n}function dn(){var n=Object(en.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  color: tomato;\n  font-size: 44px;\n"]);return dn=function(){return n},n}function pn(){var n=Object(en.a)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  filter: drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.5));\n  /* border: solid red; */\n"]);return pn=function(){return n},n}var bn=T.div(pn()),fn=T(sn.a)(dn()),xn=T(sn.a)(un()),jn=T(H.f)(ln()),hn=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){return Object(o.jsxs)(bn,{children:[Object(o.jsx)(fn,{}),Object(o.jsx)(xn,{}),Object(o.jsx)(jn,{})]})}}]),t}(a.a.Component);function vn(){var n=Object(en.a)(["\n  backdrop-filter: blur(3px);\n  padding: 6px;\n  border-radius: 100px;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.5);\n"]);return vn=function(){return n},n}function gn(){var n=Object(en.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  /* top: -24px; */\n  border-radius: 1000px;\n  background-image: -webkit-radial-gradient(\n    40% 0,\n    farthest-side ellipse,\n    #596276 10%,\n    #303543\n  );\n  transition: all 0.2s ease-in-out;\n  /* border: solid red; */\n  padding: 12px;\n  /* width: 40px;\n  height: 40px; */\n  cursor: pointer;\n  :active {\n    background-image: -webkit-radial-gradient(\n      40% 0,\n      farthest-side ellipse,\n      #4a5164 10%,\n      #596276\n    );\n  }\n"]);return gn=function(){return n},n}var On=T.div(gn()),mn=T.div(vn()),wn=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props,e=n.onClick,t=n.children;return Object(o.jsx)(mn,{children:Object(o.jsx)(On,{onClick:e,children:t})})}}]),t}(a.a.Component);function yn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  > h3 {\n    text-align: center;\n    font-weight: 200;\n    font-size: 24px;\n  }\n"]);return yn=function(){return n},n}function kn(){var n=Object(en.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  > * {\n    margin: 0 32px;\n  }\n"]);return kn=function(){return n},n}function Cn(){var n=Object(en.a)(["\n  display: flex;\n  text-align: center;\n  flex-direction: row;\n  background: rgba(255, 255, 255, 0.9);\n  color: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(3px);\n  border-radius: 12px;\n  padding: 8px 12px;\n  /* max-width: 60%; */\n  margin-bottom: 12px;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  /* border: solid red; */\n  transform: translate(-50%, -100%);\n  > svg {\n    color: tomato;\n    font-size: 40px;\n    filter: drop-shadow(2px 2px 0px rgba(0, 0, 0, 0.4));\n  }\n"]);return Sn=function(){return n},n}function An(){var n=Object(en.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n  top: 70px;\n  left: 0;\n  right: 0;\n  /* border: solid red; */\n"]);return An=function(){return n},n}function En(){var n=Object(en.a)(["\n  position: absolute;\n  right: 12px;\n  bottom: 30%;\n  display: flex;\n  flex-direction: column;\n  /* border: solid red; */\n  > svg {\n    border-radius: 100px;\n    padding: 8px;\n    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);\n    background: whitesmoke;\n    margin: 8px 4px;\n    color: rgba(0, 0, 0, 0.75);\n  }\n"]);return En=function(){return n},n}function Ln(){var n=Object(en.a)(["\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n"]);return Ln=function(){return n},n}function zn(){var n=Object(en.a)(["\n  height: 28px;\n"]);return zn=function(){return n},n}function In(){var n=Object(en.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 60%;\n  bottom: 40px;\n  right: 50%;\n  transform: translateX(50%);\n  filter: drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.4));\n  /* border: solid red; */\n"]);return In=function(){return n},n}function Mn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 60px;\n  transition: all 0.2s ease-in-out;\n\n  box-shadow: inset -4px 0px 2px -2px rgba(0, 0, 0, 0.25);\n  background: rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(3px);\n  /* filter: drop-shadow(-4px 0px 4px rgba(0, 0, 0, 0.3)); */\n  ","\n\n  > svg {\n    font-size: 28px;\n    margin: 8px;\n    padding: 8px;\n  }\n"]);return Mn=function(){return n},n}function Pn(){var n=Object(en.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n"]);return Pn=function(){return n},n}function Rn(){var n=Object(en.a)(["\n  z-index: 9999;\n  display: flex;\n  flex-direction: row;\n  align-self: stretch;\n  /* background: whitesmoke; */\n  /* border: red solid; */\n  align-items: center;\n  justify-content: space-evenly;\n  height: 60px;\n  filter: drop-shadow(-2px -2px 2px rgba(0, 0, 0, 0.3));\n\n  > svg {\n    color: #444;\n    font-size: 24px;\n  }\n"]);return Rn=function(){return n},n}function Dn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 200px;\n  /* border: solid red; */\n  /* align-items: center; */\n  justify-content: center;\n  margin-top: 20px;\n"]);return Dn=function(){return n},n}function Nn(){var n=Object(en.a)(["\n  z-index: 2;\n  /* position: absolute;\n  top: -1px;\n  left: -1px;\n  right: -1px; */\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  /* height: 60px; */\n  padding: 0 20px;\n  align-items: center;\n  /* border: solid red; */\n  /* margin: 20px; */\n  /* background: whitesmoke; */\n  /* border-radius: 12px 12px 0 0; */\n  /* background: rgba(0, 0, 0, 0.8); */\n  /* box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); */\n  /* color: #777; */\n  background: rgba(0, 0, 0, 0.1);\n  /* backdrop-filter: blur(3px); */\n  /* box-shadow: 2px 4px 4px 0px rgba(0, 0, 0, 0.5); */\n"]);return Nn=function(){return n},n}function Tn(){var n=Object(en.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  transition: all 0.2s ease-in-out;\n  overflow: hidden;\n  border-radius: ",";\n  /* box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); */\n  background: #363b49;\n\n  > div {\n    width: 100% !important;\n    height: 100% !important;\n    /* border-radius: 0 0 12px 12px !important; */\n    overflow: hidden !important;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);\n    /* border: solid red; */\n  }\n  ",";\n"]);return Tn=function(){return n},n}function _n(){var n=Object(en.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  transition: all 0.2s ease-in-out;\n  ","\n  perspective: 800px;\n"]);return _n=function(){return n},n}function Fn(){var n=Object(en.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  position: relative;\n  overflow: hidden;\n  /* width: 100vw;\n  height: 100vh; */\n  /* background-color: yellow; */\n  /* margin: 60px 12px 0; */\n"]);return Fn=function(){return n},n}var Bn=T.div(Fn()),Un=T.div(_n(),(function(n){var e=n.drawerOpen;return"\n    transform: translateX(".concat(e?"60px":"0px",");\n  ")})),Vn=T.div(Tn(),(function(n){return n.drawerOpen?"12px":"0"}),(function(n){return n.drawerOpen&&"\n    transform: scale(0.8) translate(200px, 0px) rotate3d(0, 1, 0, -25deg);\n    box-shadow: -2px -2px 4px rgba(0, 0, 0, 0.2);\n  "})),Wn=T.span(Nn()),Kn=T.span(Dn()),Xn=(T.div(Rn()),T.div(Pn())),Gn=T.div(Mn(),(function(n){var e=n.drawerOpen;return"\n    transform: translateX(".concat(e?"0":"-60px",");\n  ")})),qn=T.span(In()),Hn=T.img(zn()),Jn=T.div(Ln()),Qn=T.span(En()),$n=T.span(An()),Yn=T.div(Sn()),Zn=T.div(Cn()),ne=T.div(kn()),ee=T.div(yn()),te=t.p+"static/media/sisfogo.5658165b.svg";function re(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-radius: 4px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);\n  color: gray;\n  margin: 4px 12px;\n  padding: 4px;\n  > span {\n    margin: 4px 12px;\n    padding: 8px 0;\n    border-bottom: 1px solid gray;\n  }\n"]);return re=function(){return n},n}function oe(){var n=Object(en.a)(["\n  flex: 1;\n  outline: none;\n  border: none;\n  padding: 8px 16px;\n  background: transparent;\n"]);return oe=function(){return n},n}function ie(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-radius: 100px;\n  background: white;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);\n  > svg {\n    color: rgba(0, 0, 0, 0.5);\n    font-size: 14px;\n    padding: 4px 12px;\n    border-left: 1px solid lightgray;\n  }\n"]);return ie=function(){return n},n}function ae(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n"]);return ae=function(){return n},n}var ce=T.div(ae()),se=T.div(ie()),le=T.input(oe()),ue=T.div(re()),de=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(g.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))).state={value:"",results:[],resultsVisible:!1},n.handleSearch=function(){var e=n.state.value,t=q.a.stringify({q:e,polygon_geojson:0,"accept-language":"pt-BR",countrycodes:"br",limit:5,format:"jsonv2",addressdetails:1});C.a.get("https://nominatim.openstreetmap.org/search?".concat(t)).then((function(e){var t=e.data;n.setState({results:t,resultsVisible:!0})}))},n.handleChange=function(e){n.setState({value:e.target.value})},n.handleResultSelect=function(e){return function(){(0,n.props.onSelect)(e),n.setState({resultsVisible:!1})}},n}return Object(O.a)(t,[{key:"render",value:function(){var n=this,e=this.state,t=e.value,r=e.results,i=e.resultsVisible;return Object(o.jsxs)(ce,{children:[Object(o.jsxs)(se,{children:[Object(o.jsx)(le,{onChange:this.handleChange,value:t,onFocus:function(){return n.setState({resultsVisible:!0})}}),Object(o.jsx)(H.g,{onClick:this.handleSearch})]}),i&&r.length>0&&Object(o.jsx)(ue,{children:r.map((function(e){return Object(o.jsx)("span",{onClick:n.handleResultSelect(e),children:e.display_name},e.display_name)}))})]})}}]),t}(a.a.Component),pe=t(78);function be(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  > span {\n    color: rgba(0, 0, 0, 0.5);\n    font-size: 12px;\n  }\n  > div {\n    color: rgba(0, 0, 0, 0.8);\n    font-size: 14px;\n  }\n"]);return be=function(){return n},n}function fe(){var n=Object(en.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 100px;\n  background: rgba(0, 0, 0, 0.07);\n  color: tomato;\n  font-size: 20px;\n  padding: 6px;\n  margin: 8px 16px;\n  width: 20px;\n  height: 20px;\n"]);return fe=function(){return n},n}function xe(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  /* border: solid red; */\n"]);return xe=function(){return n},n}var je,he,ve=T.div(xe()),ge=T.div(fe()),Oe=T.div(be()),me=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props,e=n.uf,t=n.municipio,r=n.descricao;return Object(o.jsxs)(ve,{children:[Object(o.jsx)(ge,{children:Object(o.jsx)(pe.a,{})}),Object(o.jsxs)(Oe,{children:[Object(o.jsx)("span",{children:r}),Object(o.jsx)("div",{children:"".concat(t," - ").concat(e)})]})]})}}]),t}(a.a.Component),we=t(25);!function(n){n.MUNICIPAL="MUNICIPAL",n.ESTADUAL="ESTADUAL",n.FEDERAL="FEDERAL"}(he||(he={}));var ye=(je={},Object(we.a)(je,he.MUNICIPAL,"Municipal"),Object(we.a)(je,he.ESTADUAL,"Estadual"),Object(we.a)(je,he.FEDERAL,"Federal"),je),ke=t(80);function Ce(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  border-radius: 8px;\n  border: solid silver 1px;\n  margin: 8px;\n  width: 64px;\n  cursor: pointer;\n\n  > svg {\n    font-size: 24px;\n  }\n\n  > span {\n    margin-top: 4px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  transition: all 0.2s ease-in-out;\n\n  ",";\n"]);return Ce=function(){return n},n}function Se(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n  align-self: stretch;\n  align-items: center;\n  justify-content: center;\n  /* border: solid red; */\n"]);return Se=function(){return n},n}var Ae,Ee,Le=T.div(Se()),ze=T.div(Ce(),(function(n){return n.selected&&"\n    background: gray;\n    color: whitesmoke;\n    > span {\n      color: whitesmoke;\n      font-weight: 600;\n    }\n  "})),Ie=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props,e=n.icon,t=n.label,r=n.onClick,i=n.selected;return Object(o.jsxs)(ze,{onClick:r,selected:i,children:[Object(o.jsx)(e,{}),Object(o.jsx)("span",{children:t})]})}}]),t}(a.a.Component),Me=(Ae={},Object(we.a)(Ae,he.MUNICIPAL,H.b),Object(we.a)(Ae,he.ESTADUAL,H.c),Object(we.a)(Ae,he.FEDERAL,J.a),Ae),Pe=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(g.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))).handleClick=function(e){return function(){(0,n.props.onSelect)(e)}},n}return Object(O.a)(t,[{key:"render",value:function(){var n=this,e=this.props.selected;return Object(o.jsx)(Le,{children:Object(ke.a)(he).map((function(t){return Object(o.jsx)(Ie,{icon:Me[t],label:ye[t],onClick:n.handleClick(t),selected:t===e},"item_".concat(t))}))})}}]),t}(a.a.Component);!function(n){n[n.NONE=0]="NONE",n[n.SET_MARKER=1]="SET_MARKER",n[n.INPUT_DETAILS=2]="INPUT_DETAILS"}(Ee||(Ee={}));var Re=function(n){var e,t,r,o=n[n.addresstype];return null!==(e=null!==(t=null!==(r=null!==o&&void 0!==o?o:n.suburb)&&void 0!==r?r:n.neighbourhood)&&void 0!==t?t:n.county)&&void 0!==e?e:""},De=function(n){var e,t,r;return null!==(e=null!==(t=null!==(r=n.city)&&void 0!==r?r:n.town)&&void 0!==t?t:n.village)&&void 0!==e?e:""},Ne=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(g.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=e.call.apply(e,[this].concat(i))).state={viewport:{longitude:-47.708052,latitude:-15.888663,zoom:11,bearing:0,pitch:0},drawerOpen:!1,bottomDrawerOpen:!1,editMode:Ee.NONE},n.mapRef=a.a.createRef(),n.getCurrentLocation=Object(K.a)(W.a.mark((function n(){return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("geolocation"in navigator)){n.next=2;break}return n.abrupt("return",new Promise((function(n,e){navigator.geolocation.getCurrentPosition(n,e)})));case 2:return n.abrupt("return",Promise.reject());case 3:case"end":return n.stop()}}),n)}))),n.handleViewportChange=function(e){n.setState({viewport:e})},n.toggleDrawer=function(){n.setState((function(n){var e=n.drawerOpen,t=Object(U.a)(n,["drawerOpen"]);return Object(p.a)(Object(p.a)({},t),{},{drawerOpen:!e})}))},n.handleCurrentLocationClick=Object(K.a)(W.a.mark((function e(){var t,r,o,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCurrentLocation();case 2:t=e.sent,r=t.coords,o=r.latitude,i=r.longitude,n.flyTo(o,i);case 7:case"end":return e.stop()}}),e)}))),n.flyToPreview=function(e){var t,r,o,i=e.latitude,a=e.longitude,c=null===(t=n.mapRef.current)||void 0===t?void 0:t.getMap().getContainer(),s=null!==(r=null===c||void 0===c?void 0:c.clientWidth)&&void 0!==r?r:1,l=null!==(o=null===c||void 0===c?void 0:c.clientHeight)&&void 0!==o?o:1,u=new X.c({width:s,height:l}).fitBounds([[a,i],[a,i-.0035]],{offset:[0,-160]});n.setState({viewport:Object(p.a)(Object(p.a)({},u),{},{zoom:16,transitionDuration:2e3,transitionInterpolator:new X.a,transitionEasing:Y.a})})},n.flyTo=function(e,t){var r=n.state.viewport;n.setState({viewport:Object(p.a)(Object(p.a)({},r),{},{longitude:t,latitude:e,zoom:15,transitionDuration:2e3,transitionInterpolator:new X.a,transitionEasing:Y.a})})},n.fitBounds=function(e){var t=new X.c(n.state.viewport).fitBounds(e,{}),r=t.longitude,o=t.latitude,i=t.zoom,a=n.state.viewport;n.setState({viewport:Object(p.a)(Object(p.a)({},a),{},{longitude:r,latitude:o,zoom:i,transitionDuration:2e3,transitionInterpolator:new X.a,transitionEasing:Y.a})})},n.fetchDetails=function(){var n=Object(K.a)(W.a.mark((function n(e,t){var r;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=q.a.stringify({lat:e,lon:t,polygon_geojson:0,"accept-language":"pt-BR",countrycodes:"br",format:"jsonv2",addressdetails:1,zoom:18}),n.abrupt("return",C.a.get("https://nominatim.openstreetmap.org/reverse?".concat(r)).then((function(n){var e=n.data,t=e.address,r=e.addresstype;return Object(p.a)(Object(p.a)({},t),{},{addresstype:r})})));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),n.handleResultSelect=function(e){console.log("result",e.boundingbox);var t=e.boundingbox.map(Number),r=Object(B.a)(t,4),o=r[0],i=r[1],a=r[2],c=r[3];n.fitBounds([[a,o],[c,i]])},n.handleMapClick=function(){var e=Object(K.a)(W.a.mark((function e(t){var r,o,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.editMode===Ee.SET_MARKER&&(r=Object(B.a)(t.lngLat,2),o=r[0],i=r[1],n.setState({markerLatLon:{latitude:i,longitude:o}}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.handleCancel=function(){n.setState({markerLatLon:void 0,editMode:Ee.NONE})},n.handleConfirm=Object(K.a)(W.a.mark((function e(){var t,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.state.markerLatLon)){e.next=6;break}return e.next=4,n.fetchDetails(t.latitude,t.longitude);case 4:r=e.sent,n.setState({editMode:Ee.INPUT_DETAILS,bottomDrawerOpen:!0,currentAddress:{uf:r.state,municipio:De(r),descricao:Re(r)}},(function(){n.flyToPreview(t)}));case 6:case"end":return e.stop()}}),e)}))),n.renderFabArea=function(){var e=n.state,t=e.editMode,r=e.markerLatLon;switch(t){case Ee.SET_MARKER:return Object(o.jsxs)(o.Fragment,{children:[r?Object(o.jsx)(Zn,{children:"Confirme a opera\xe7\xe3o"}):Object(o.jsx)(Zn,{children:"Indique o local do incidente"}),Object(o.jsxs)(ne,{children:[Object(o.jsx)(wn,{onClick:n.handleCancel,children:Object(o.jsx)(H.h,{color:"tomato",size:24})}),r&&Object(o.jsx)(wn,{onClick:n.handleConfirm,children:Object(o.jsx)(H.a,{color:"lime",size:24})})]})]});case Ee.NONE:default:return Object(o.jsx)(wn,{onClick:function(){return n.setState({editMode:Ee.SET_MARKER})},children:Object(o.jsx)(hn,{})})}},n.handleBottomDrawerClose=function(){},n.handleNivelAcionamento=function(e){n.setState({nivelAcionamento:e})},n.reset=function(){n.setState({nivelAcionamento:void 0,markerLatLon:void 0,currentAddress:void 0,bottomDrawerOpen:!1,editMode:Ee.NONE})},n}return Object(O.a)(t,[{key:"componentDidMount",value:function(){var n=Object(K.a)(W.a.mark((function n(){var e,t,r,o;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getCurrentLocation();case 2:return e=n.sent,t=e.coords,r=t.latitude,o=t.longitude,n.abrupt("return",this.setState((function(n){var e=n.viewport,t=Object(U.a)(n,["viewport"]);return Object(p.a)(Object(p.a)({},t),{},{viewport:Object(p.a)(Object(p.a)({},e),{},{latitude:r,longitude:o,zoom:15})})})));case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this,e=this.state,t=e.viewport,r=e.drawerOpen,i=e.editMode,a=e.markerLatLon,c=e.bottomDrawerOpen,s=e.currentAddress,l=e.nivelAcionamento;return Object(o.jsxs)(Bn,{children:[Object(o.jsxs)(Xn,{children:[Object(o.jsx)(Gn,{drawerOpen:r,children:Object(o.jsx)(Q.a,{onClick:this.toggleDrawer})}),Object(o.jsx)(Kn,{children:Object(o.jsx)(Hn,{src:te})})]}),Object(o.jsx)(Un,{drawerOpen:r,children:Object(o.jsxs)(Vn,{drawerOpen:r,children:[Object(o.jsxs)(Wn,{children:[Object(o.jsx)(J.b,{size:20,onClick:this.toggleDrawer}),Object(o.jsx)("h3",{children:"Registro de Incidente"}),Object(o.jsx)(J.b,{size:20,color:"transparent"})]}),!c&&Object(o.jsx)($n,{children:Object(o.jsx)(de,{onSelect:this.handleResultSelect})}),Object(o.jsx)(X.d,Object(p.a)(Object(p.a)({width:"100%",height:c?"50%":'"100%"',ref:this.mapRef},t),{},{onViewportChange:this.handleViewportChange,onClick:this.handleMapClick,mapStyle:{version:8,sources:{osm:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:'Map tiles by <a target="_top" rel="noopener" href="https://tile.openstreetmap.org/">OpenStreetMap tile servers</a>, under the <a target="_top" rel="noopener" href="https://operations.osmfoundation.org/policies/tiles/">tile usage policy</a>. Data by <a target="_top" rel="noopener" href="http://openstreetmap.org">OpenStreetMap</a>'}},layers:[{id:"osm",type:"raster",source:"osm",minzoom:0,maxzoom:22}]},children:a&&Object(o.jsx)(X.b,Object(p.a)(Object(p.a)({},a),{},{draggable:i===Ee.SET_MARKER,children:Object(o.jsx)(Yn,{onClick:function(){return console.log("marker click")},children:Object(o.jsx)(H.e,{})})}))})),Object(o.jsxs)(Qn,{children:[Object(o.jsx)(H.d,{size:20}),Object(o.jsx)(Q.b,{size:20,onClick:this.handleCurrentLocationClick})]}),Object(o.jsx)(qn,{children:this.renderFabArea()}),r&&Object(o.jsx)(Jn,{onClick:function(){return n.setState({drawerOpen:!1})}}),Object(o.jsx)(cn,{isVisible:c,onClose:this.handleBottomDrawerClose,children:Object(o.jsxs)(ee,{children:[s&&Object(o.jsx)(me,{uf:s.uf,municipio:s.municipio,descricao:s.descricao}),Object(o.jsx)("h3",{children:"Qual o N\xedvel de Acionamento?"}),Object(o.jsx)(Pe,{onSelect:this.handleNivelAcionamento,selected:l}),l&&Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,alignItems:"center",justifyContent:"flex-end",marginBottom:12},children:[Object(o.jsx)($.a,{size:40,onClick:this.reset}),Object(o.jsxs)("span",{style:{textAlign:"center",marginTop:8},children:["Reiniciar fluxo ",Object(o.jsx)("br",{})," (falta implementar pr\xf3ximas telas)"]})]})]})})]})})]})}}]),t}(a.a.Component);function Te(){var n=Object(en.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: space-evenly;\n  flex-direction: column;\n\n  background: #ffaa00;\n"]);return Te=function(){return n},n}var _e=T.div(Te());function Fe(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n  border: solid blue 1px;\n  border-radius: 4px;\n  background: tomato;\n\n  transition: all 0.4s ease-in-out;\n\n  :hover {\n    cursor: pointer;\n    background: lime;\n    /* padding: 50px; */\n  }\n"]);return Fe=function(){return n},n}var Be=T.div(Fe()),Ue=function(n){var e=n.onClick,t=n.label,r=void 0===t?"":t;return Object(o.jsx)(Be,{onClick:e,children:r})},Ve=function(n){var e=n.history;return Object(o.jsx)(_e,{children:Object(o.jsx)(Ue,{onClick:function(){return e.push("/products")},label:"Products"})})};function We(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return We=function(){return n},n}function Ke(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ke=function(){return n},n}var Xe=T.div(Ke()),Ge=T.div(We()),qe=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props,e=n.items,t=n.renderItem,r=n.children,i=e.map((function(n){return Object(o.jsx)(Ge,{children:t?t(n):n},n.id)}));return Object(o.jsx)(Xe,{children:r?r(i):i})}}]),t}(a.a.Component),He=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(g.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).renderItem=function(n){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{children:n.id}),Object(o.jsx)("span",{children:" - "}),Object(o.jsx)("span",{children:n.name})]})},n}return Object(O.a)(t,[{key:"render",value:function(){var n=this.props.products;return Object(o.jsx)(qe,{items:n,renderItem:this.renderItem,children:function(n){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{children:"Produtos..."}),n]})}})}}]),t}(a.a.Component),Je=Object(l.b)((function(n){return{products:n.product.products}}))(He);function Qe(){var n=Object(en.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background: teal;\n"]);return Qe=function(){return n},n}var $e=T.div(Qe()),Ye=Object(l.b)((function(n){return{products:n.product.products}}),{fetchProducts:L.fetchProducts})((function(n){var e=n.history,t=n.fetchProducts;return Object(o.jsxs)($e,{children:[Object(o.jsx)("h1",{children:"Product List"}),Object(o.jsx)(Je,{}),Object(o.jsx)(Ue,{onClick:t,label:"Fetch Products"}),Object(o.jsx)(Ue,{onClick:function(){return e.push("/home")},label:"HOME"})]})})),Ze=Object(F.a)({hashType:"hashbang"}),nt=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){return Object(g.a)(this,t),e.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){return Object(o.jsx)(_.b,{history:Ze,children:Object(o.jsxs)(_.c,{children:[Object(o.jsx)(_.a,{path:"/map",component:Ne}),Object(o.jsx)(_.a,{path:"/home",component:Ve}),Object(o.jsx)(_.a,{path:"/products",component:Ye}),Object(o.jsx)(_.a,{path:"/",component:Ne})]})})}}]),t}(a.a.Component),et=t.p+"static/media/bg-pattern.a4e6cf7d.svg";function tt(){var n=Object(en.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  /* background: #666c72; #252C37 */\n  /* background: linear-gradient(to top right, #4e598f, #32313a);\n  background: linear-gradient(to bottom, #474959, #333541);\n  background: linear-gradient(to top, #52535a, #2d2d31); */\n\n  background-image: url(","),\n    -webkit-radial-gradient(60% 0, farthest-side ellipse, #596276 10%, #2d313e);\n  background-size: cover;\n  background-attachment: fixed, fixed;\n  /* border: solid red; */\n  color: whitesmoke;\n"]);return tt=function(){return n},n}var rt=T.div(tt(),et),ot=function(n){Object(m.a)(t,n);var e=Object(w.a)(t);function t(){var n;Object(g.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))).deferredInstallPrompt=null,n.saveBeforeInstallPromptEvent=function(e){n.deferredInstallPrompt=e,console.log("savebeforeInstall",n.deferredInstallPrompt)},n}return Object(O.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeinstallprompt",this.saveBeforeInstallPromptEvent)}},{key:"render",value:function(){return console.log("beforeInstall",this.deferredInstallPrompt),Object(o.jsx)(rt,{children:Object(o.jsx)(nt,{})})}}]),t}(a.a.Component),it=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var ct,st=function(){var n=Object(f.createStore)(P,Object(b.composeWithDevTools)(f.applyMiddleware.apply(void 0,R)));return{store:n,persistor:Object(j.b)(n)}}(),lt=st.store,ut=st.persistor;ct=ot,s.a.render(Object(o.jsx)(l.a,{store:lt,children:Object(o.jsx)(u.a,{theme:N,children:Object(o.jsx)(d.a,{loading:null,persistor:ut,children:Object(o.jsx)(ct,{})})})}),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/sfogo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/sfogo","/service-worker.js");it?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):at(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):at(e,n)}))}}()}},[[123,1,2]]]);
//# sourceMappingURL=main.2112275a.chunk.js.map